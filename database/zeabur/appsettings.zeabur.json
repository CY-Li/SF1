{
  "ConnectionStrings": {
    "BackEndDatabase": "Server=${ZEABUR_MARIADB_CONNECTION_HOST};Port=${ZEABUR_MARIADB_CONNECTION_PORT};User Id=${DB_USER};Password=${DB_PASSWORD};Database=${DB_NAME};CharSet=utf8mb4;AllowUserVariables=True;UseAffectedRows=False;ConnectionTimeout=30;CommandTimeout=60;Pooling=true;MinimumPoolSize=5;MaximumPoolSize=100;ConnectionLifeTime=300;"
  },
  "DatabaseConfiguration": {
    "Provider": "MariaDB",
    "Version": "11.3.2",
    "CharacterSet": "utf8mb4",
    "Collation": "utf8mb4_general_ci",
    "TimeZone": "Asia/Taipei",
    "EnableRetryOnFailure": true,
    "MaxRetryCount": 3,
    "MaxRetryDelay": "00:00:30",
    "EnableSensitiveDataLogging": false,
    "EnableDetailedErrors": false
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore.Database.Command": "Warning",
      "Microsoft.EntityFrameworkCore.Infrastructure": "Warning"
    }
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft.AspNetCore": "Warning",
        "Microsoft.EntityFrameworkCore": "Warning",
        "System": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "./logs/zeabur-app-.log",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 7,
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} {Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": ["FromLogContext", "WithMachineName", "WithThreadId"]
  },
  "JWT": {
    "SecretKey": "${JWT_SECRET_KEY}",
    "Issuer": "${JWT_ISSUER}",
    "Audience": "${JWT_AUDIENCE}",
    "ExpiryMinutes": "${JWT_EXPIRY_MINUTES}",
    "ValidateIssuer": true,
    "ValidateAudience": true,
    "ValidateIssuerSigningKey": true,
    "ValidateLifetime": true,
    "ClockSkew": "00:00:00"
  },
  "CORS": {
    "AllowedOrigins": "${CORS_ALLOWED_ORIGINS}",
    "AllowedMethods": ["GET", "POST", "PUT", "DELETE", "OPTIONS"],
    "AllowedHeaders": ["Content-Type", "Authorization", "X-Requested-With"],
    "AllowCredentials": true,
    "MaxAge": 86400
  },
  "FileUpload": {
    "MaxFileSize": "${FILE_UPLOAD_MAX_SIZE}",
    "AllowedExtensions": "${FILE_UPLOAD_EXTENSIONS}",
    "UploadPath": "/app/uploads",
    "KycImagesPath": "/app/KycImages",
    "DepositImagesPath": "/app/DepositImages",
    "WithdrawImagesPath": "/app/WithdrawImages",
    "AnnouncementImagesPath": "/app/AnnImagessss"
  },
  "Hangfire": {
    "DashboardEnabled": "${HANGFIRE_DASHBOARD_ENABLED}",
    "DashboardPath": "/hangfire",
    "WorkerCount": 1,
    "Queues": ["default", "critical", "background"],
    "PollingInterval": "00:00:15"
  },
  "HealthChecks": {
    "Enabled": true,
    "Path": "/health",
    "DetailedOutput": true,
    "Checks": {
      "Database": {
        "Enabled": true,
        "Timeout": "00:00:30"
      },
      "BackendService": {
        "Enabled": true,
        "Timeout": "00:00:10",
        "Url": "http://${ZEABUR_BACKEND_SERVICE_DOMAIN}:5001/health"
      }
    }
  },
  "ZeaburConfiguration": {
    "Environment": "Production",
    "ServiceDiscovery": {
      "MariaDBHost": "${ZEABUR_MARIADB_CONNECTION_HOST}",
      "MariaDBPort": "${ZEABUR_MARIADB_CONNECTION_PORT}",
      "BackendServiceDomain": "${ZEABUR_BACKEND_SERVICE_DOMAIN}",
      "BackendDomain": "${ZEABUR_BACKEND_DOMAIN}",
      "FrontendDomain": "${ZEABUR_FRONTEND_DOMAIN}",
      "AdminDomain": "${ZEABUR_ADMIN_DOMAIN}"
    },
    "Resources": {
      "Memory": "512Mi",
      "CPU": "0.5"
    },
    "Scaling": {
      "MinReplicas": 1,
      "MaxReplicas": 3,
      "TargetCPUUtilization": 70
    }
  },
  "Security": {
    "RequireHttps": true,
    "HstsMaxAge": 31536000,
    "ContentSecurityPolicy": "default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:;",
    "ReferrerPolicy": "strict-origin-when-cross-origin",
    "PermissionsPolicy": "geolocation=(), microphone=(), camera=()"
  },
  "Monitoring": {
    "ApplicationInsights": {
      "Enabled": false
    },
    "Metrics": {
      "Enabled": true,
      "Path": "/metrics"
    },
    "Tracing": {
      "Enabled": false
    }
  }
}