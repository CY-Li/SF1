# 需求文件

## 介紹

本功能旨在為現有的全端應用程式建立本地 Docker 部署環境。該應用程式包含前端（HTML + Vue.js）、後端（.NET Core 7 Clean Architecture）和 MariaDB 資料庫。目標是讓開發者能夠快速在本地環境中啟動完整的應用程式堆疊，無需手動安裝和配置各個組件。

## 需求

### 需求 1

**使用者故事：** 作為開發者，我希望能夠使用單一命令啟動整個應用程式堆疊，以便快速開始開發工作

#### 驗收標準

1. WHEN 開發者執行 `docker-compose up` THEN 系統 SHALL 啟動所有必要的服務（前端、後端、資料庫）
2. WHEN 所有服務啟動完成 THEN 系統 SHALL 在指定的端口上提供可訪問的服務
3. WHEN 開發者訪問前端應用 THEN 系統 SHALL 正確顯示應用程式界面

### 需求 2

**使用者故事：** 作為開發者，我希望資料庫能夠自動初始化，以便應用程式能夠正常運行

#### 驗收標準

1. WHEN MariaDB 容器首次啟動 THEN 系統 SHALL 自動創建 rosca2 資料庫
2. WHEN 資料庫創建完成 THEN 系統 SHALL 執行所有必要的 SQL 腳本來建立表結構
3. WHEN 資料庫初始化完成 THEN 系統 SHALL 載入預設資料（如果有的話）
4. WHEN 後端服務啟動 THEN 系統 SHALL 能夠成功連接到資料庫

### 需求 3

**使用者故事：** 作為開發者，我希望前端能夠正確地與後端 API 通信，以便應用程式功能正常運作

#### 驗收標準

1. WHEN 前端應用載入 THEN 系統 SHALL 能夠成功調用後端 API
2. WHEN API 請求發送 THEN 系統 SHALL 正確處理 CORS 設定
3. WHEN 前端訪問後端服務 THEN 系統 SHALL 使用正確的內部網路連接

### 需求 4

**使用者故事：** 作為開發者，我希望能夠輕鬆管理和監控容器狀態，以便進行開發和除錯

#### 驗收標準

1. WHEN 開發者查看容器狀態 THEN 系統 SHALL 顯示所有服務的健康狀態
2. WHEN 服務出現問題 THEN 系統 SHALL 提供清晰的錯誤日誌
3. WHEN 開發者需要重啟服務 THEN 系統 SHALL 支援個別服務的重啟
4. WHEN 開發者需要清理環境 THEN 系統 SHALL 提供完整的清理命令

### 需求 5

**使用者故事：** 作為開發者，我希望開發環境配置能夠持久化，以便在容器重啟後保持資料

#### 驗收標準

1. WHEN 資料庫容器重啟 THEN 系統 SHALL 保留所有資料庫資料
2. WHEN 應用程式重啟 THEN 系統 SHALL 保留上傳的檔案和圖片
3. WHEN 開發者修改配置 THEN 系統 SHALL 支援熱重載或快速重啟

### 需求 6

**使用者故事：** 作為開發者，我希望系統能夠自動建立預設的測試帳號，以便快速測試登入功能

#### 驗收標準

1. WHEN 資料庫初始化完成 THEN 系統 SHALL 自動建立一筆預設使用者帳號
2. WHEN 預設帳號建立 THEN 系統 SHALL 設定帳號為 "0938766349"，密碼為 "123456"
3. WHEN 開發者使用預設帳號登入 THEN 系統 SHALL 成功驗證並允許存取前台系統
4. WHEN 預設帳號登入 THEN 系統 SHALL 具備基本的使用者權限和功能

### 需求 7

**使用者故事：** 作為開發者，我希望能夠在不同環境間切換配置，以便支援開發、測試等不同場景

#### 驗收標準

1. WHEN 開發者指定環境變數 THEN 系統 SHALL 使用對應的配置檔案
2. WHEN 切換到不同環境 THEN 系統 SHALL 使用正確的資料庫連接字串
3. WHEN 環境配置改變 THEN 系統 SHALL 正確更新 API 端點和其他相關設定