# Zeabur 部署實施任務清單

## 任務概述

本任務清單將指導完成從本地 Docker 環境到 Zeabur 雲端平台的部署遷移，使用現有的 MariaDB 資料庫服務 (43.167.174.222:31500)。

## 實施任務

- [x] 1. 清理和準備專案檔案





  - 移除不必要的檔案和配置
  - 更新配置檔案以使用外部資料庫
  - 準備 Zeabur 部署配置
  - _需求: 1.1, 2.1_

- [x] 1.1 移除不必要的檔案







  - 刪除本地資料庫相關檔案 (docker-compose.yml 中的 MariaDB 配置)
  - 移除多餘的診斷和修復檔案
  - 清理重複的配置檔案
  - _需求: 1.1_

- [x] 1.2 更新資料庫連接配置


  - 修改 .NET Core 服務的 appsettings.json
  - 更新連接字串指向外部 MariaDB (43.167.174.222:31500)
  - 移除本地資料庫環境變數
  - _需求: 2.1, 3.1_

- [x] 1.3 準備 Zeabur 部署配置


  - 移除錯誤的 zeabur.json 配置檔案 (Zeabur 自動偵測 Dockerfile)
  - 準備環境變數模板
  - 建立部署文檔
  - _需求: 1.1, 2.1_

- [x] 2. 驗證和測試外部資料庫連接



  - 測試連接到現有 MariaDB
  - 驗證資料庫 schema

  - 準備初始化腳本 (如需要)
  - _需求: 3.1, 3.2, 3.3_

- [x] 2.1 測試資料庫連接

  - 使用提供的連接資訊測試連接
  - 驗證資料庫存在和權限
  - 檢查現有 schema 和資料
  - _需求: 3.1_


- [x] 2.2 準備資料庫初始化 (如需要)

  - 檢查是否需要執行初始化腳本
  - 準備適合的 SQL 腳本
  - 測試腳本執行
  - _需求: 3.2, 3.3_

- [x] 3. 優化 Docker 映像檔案





  - 簡化 Dockerfile 配置
  - 移除資料庫相關的建置步驟
  - 優化映像檔案大小
  - _需求: 1.1, 1.3_

- [x] 3.1 優化後端服務 Dockerfile





  - 更新 API Gateway Dockerfile
  - 更新 Backend Service Dockerfile
  - 移除不必要的依賴
  - _需求: 1.3_

- [x] 3.2 優化前端服務 Dockerfile


  - 更新前台系統 Dockerfile
  - 更新後台系統 Dockerfile
  - 確保 nginx 配置正確
  - _需求: 1.3_

- [x] 4. 部署到 Zeabur 平台





  - 建立 Zeabur 專案
  - 部署各個服務
  - 配置服務間連接
  - _需求: 1.1, 1.2, 1.3_

- [x] 4.1 建立 Zeabur 專案


  - 在 Zeabur 控制台建立新專案
  - 配置專案設定
  - 準備服務部署
  - _需求: 1.1_


- [x] 4.2 部署後端服務

  - 部署 Backend Service (.NET Core 微服務)
  - 部署 API Gateway (.NET Core)
  - 配置外部資料庫連接
  - _需求: 1.2, 3.1_


- [x] 4.3 部署前端服務

  - 部署前台系統 (Vue.js + Nginx)
  - 部署後台系統 (Angular + Nginx)
  - 配置 API 代理連接
  - _需求: 1.2_

- [ ] 5. 配置和測試
  - 配置域名和 SSL
  - 測試完整功能
  - 驗證部署成功
  - _需求: 4.1, 4.2, 4.3_

- [ ] 5.1 配置域名和 SSL
  - 設定主域名指向前台系統
  - 設定子域名或路徑指向後台系統
  - 啟用 HTTPS 和 SSL 憑證
  - _需求: 4.1, 4.2, 4.3_

- [ ] 5.2 進行端到端功能測試
  - 測試用戶註冊登入流程
  - 測試檔案上傳下載功能
  - 測試管理後台所有功能
  - _需求: 所有需求_

- [ ] 5.3 建立部署文檔
  - 編寫 Zeabur 部署指南
  - 建立環境變數配置指南
  - 提供故障排除指南
  - _需求: 所有需求_