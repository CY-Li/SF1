<!-- <div class="example-container">
    <mat-toolbar color="primary" class="example-toolbar">
        <button mat-icon-button (click)="snav.toggle()">
            <mat-icon>menu</mat-icon></button>
        <h1 class="example-app-name">ROSCA</h1>

        <span class="example-spacer"></span>
        <button mat-raised-button>登出</button>
    </mat-toolbar>

    <mat-sidenav-container class="example-sidenav-container">
        <mat-sidenav #snav mode="side" class="example-sidenav" opened>
            <mat-nav-list>
                <a mat-list-item routerLinkActive="active-link" routerLink="/manage/Tender">標會</a>
                <a mat-list-item routerLinkActive="active-link" routerLink="/manage/Member">會員資料</a>
                <a mat-list-item routerLinkActive="active-link" routerLink="/manage/ApplyDeposit">儲值申請</a>
                <a mat-list-item routerLinkActive="active-link" routerLink="/manage/ApplyWithdraw">提領申請</a>
                <a mat-list-item routerLinkActive="active-link" routerLink="/manage/MemberBalance">帳務紀錄</a>
                <a mat-list-item routerLinkActive="active-link" routerLink="/manage/Kyc">KYC</a>
                <a mat-list-item routerLinkActive="active-link" routerLink="/manage/Sps">參數設定</a>
                <a mat-list-item routerLinkActive="active-link" routerLink="/manage/AnnouncementBoard">公告</a>
                <a mat-list-item routerLinkActive="active-link" routerLink="/manage/Announcement">圖片</a>
                <a mat-list-item routerLinkActive="active-link" routerLink="/manage/SkdTest">排程展示</a>
                <a mat-list-item routerLinkActive="active-link" routerLink="/manage/CrudTest">測試</a>
            </mat-nav-list>
        </mat-sidenav>

        <mat-sidenav-content>
            <router-outlet></router-outlet>
        </mat-sidenav-content>
    </mat-sidenav-container>
</div> -->

<mat-toolbar class="mat-elevation-z3">
    <button mat-icon-button (click)="menuCollapsed.set(!menuCollapsed())">
        <mat-icon>menu</mat-icon>
    </button>
</mat-toolbar>

<mat-sidenav-container>
    <mat-sidenav opened mode="side" [style.width]="sidenavWidth()">
        <mat-nav-list>
            @for (item of menuItems(); track item.label) {
                <a mat-list-item 
                class="menu-item"
                [ngClass]="rla.isActive? 'selected-menu-item' : ''"
                [routerLink]="item.route=='' ? null : item.route"
                (click)="toggleSubMenuNested(item)"
                routerLinkActive="selected-menu-item"
                #rla="routerLinkActive"
                [activated]="rla.isActive"
                >
                    <mat-icon matListItemIcon >{{item.icon}}</mat-icon> 
                    <span matListItemTitle>{{item.label}}</span>  

                    @if(item.subMenuItem && !(item.subMenuItem.length === 0)){
                        <span matListItemMeta>
                            @if(item.subMenuOpen){
                                <mat-icon>expand_less</mat-icon>
                            }@else{
                                <mat-icon>expand_more</mat-icon>
                            }
                            
                        </span>
                    }
                </a>

                @if(item.subMenuItem && item.subMenuOpen){
                    @for (subItem of item.subMenuItem; track subItem.label){
                        <a mat-list-item 
                        class="menu-item indented"
                        [routerLink]="subItem.route"
                        routerLinkActive='selected-menu-item'
                        #rla="routerLinkActive"
                        [activated]="rla.isActive"
                        >
                            <mat-icon matListItemIcon>{{subItem.icon}}</mat-icon>
                            <span matListItemTitle>{{subItem.label}}</span>
                        </a>
                    }
                }
            }

        </mat-nav-list>
    </mat-sidenav>

    <mat-sidenav-content class="content" [style.margin-left]="sidenavWidth()">
        <router-outlet></router-outlet>
    </mat-sidenav-content>
</mat-sidenav-container>